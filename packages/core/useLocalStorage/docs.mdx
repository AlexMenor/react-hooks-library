---
category: state
name: useLocalStorage
description: Modified `useState` hook that syncs with localStorage.
---

import { Demo } from './demo.tsx'

<Playground>
  <Demo />
</Playground>

# useLocalStorage

Modified `useState` hook that syncs with [localStorage](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage).

## Usage

```tsx
import { useLocalStorage } from '@react-hooks-library/core'

export function Demo() {
  const [value, setValue] = useLocalStorage(
    'useLocalsStorageKey',
    'Hello World'
  )

  return (
    <div>
      <div>State - {value}</div>
      <label htmlFor="demo">
        Enter some text to update state and localStorage
      </label>
      <input onChange={(e) => setValue(e.target.value)} type="text" id="demo" />
    </div>
  )
}
```

### Using custom serialize and deserialize options

The default for `serialize` is `JSON.stringify` and the default for `deserialize` is `JSON.parse`.

```tsx
const [value, setValue] = useLocalStorage('key', 'value', {
  serialize: JSON.stringify,
  deserialize: JSON.parse
})
```

## Type Declarations

```typescript
declare type UseLocalStorageOptions = {
  /**
   * Function for converting to string.
   *
   * @default JSON.stringify
   */
  serialize: (value: unknown) => string
  /**
   * Function to convert stored string to object value.
   *
   * @default JSON.parse
   */
  deserialize: (value: string) => unknown
}

/**
 * Modified `useState` hook that syncs with localStorage.
 *
 * @param key
 * @param initialValue
 * @param options
 *
 * @see https://react-hooks-library.vercel.app/core/useLocalStorage
 */
declare function useLocalStorage<T>(
  key: string,
  initialValue: T,
  options?: UseLocalStorageOptions
): [T, Dispatch<SetStateAction<T>>]
```

## Source

<Source name="useLocalStorage" pkg="core" />
